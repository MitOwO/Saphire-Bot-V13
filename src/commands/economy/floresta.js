const { e } = require('../../../Routes/emojis.json')

module.exports = {
    name: 'floresta',
    category: 'economy',
    emoji: 'üå≤',
    usage: '<floresta>',
    description: 'Come√ßo da Hist√≥ria',

    run: async (client, message, args, prefix, db, MessageEmbed, request) => {

        const args0 = new MessageEmbed()
            .setColor('#3B692D') //verde
            .setTitle('üå≤ A Floresta Cammum √© um lugar misterioso!')
            .addField('Comandos da Floresta', '`' + prefix + 'floresta Cammum` Hist√≥ria onde tudo come√ßou\n`' + prefix + 'buscar` Procure o Brown *(Leia a hist√≥ria para entender)*\n`' + prefix + 'floresta continue` S√≥ depois de pegar o Brown\n`' + prefix + 'floresta final` Parte final da hist√≥ria')

        if (!args[0]) return message.reply({ embeds: [args0] })

        let dog = db.get(`${message.author.id}.Slot.Cachorro`) || false
        let bola = db.get(`${message.author.id}.Slot.Bola`) || false
        let remedio = db.get(`${message.author.id}.Slot.Remedio`) || false

        const Cammum1 = new MessageEmbed()
            .setColor('#3B692D')
            .setTitle('üå≤ Floresta Cammum #1')
            .setDescription('A Floresta Cammum √© famosa no Reino Heslow, como um ponto turisco famoso, muitas pessoas viajam de muito longe, apenas para visita-la e isto tr√°s grandes riquezas para o Reino.\n \n     Em um certo dia ap√≥s uma grande chuva, a Princesa Kaya estava brincando com seu cachorro Brown *(Ele recebeu este nome por causa da sua cor marrom.)* pr√≥ximo a Floresta, quando ouviu um grito. Algu√©m gritou;\n \n- *Soccoro, algu√©m me ajude!!*\n \n     A Princesa para de correr imediatamente e olha para dentro da Floresta Cammum. A princ√≠pio, Kaya pensou ter escutado algu√©m gritando aleat√≥riamente, pois isso era comum no Reino ap√≥s um dia de grande chuva. Ela d√° de ombros e volta a correr atr√°s de Brown tentando pegar uma bolinha de sua boca. Novamente, ela ouve o mesmo grito;\n \n- *Soccoro, algu√©m me ajude!!*\n \n     Ela tem certeza do grito, n√£o √© algo de sua cabe√ßa. Pensa Kaya; \n \n- *√â um homem gritando, a voz √© rouca e grave, n√£o √© a voz do Papai...*\n \n     ')

        const Cammum2 = new MessageEmbed()
            .setColor('#3B692D')
            .setDescription('Kaya anda lentamente para a beira da floresta, com cuidado, pois seu pai, o Rei Vouwer Heslow havia ordenado a ela para n√£o entrar na Floresta, porque no centro dela, rege uma criatura hist√≥rica, imortal, em sono eterno, capaz de destruir tudo o que ela ver.\n     Kaya pensava que era bobagem, coisa de pais colocando medo em seus filhos para protege-los, igual a hist√≥ria do bicho-pap√£o. O homem grita novamente; \n \n - *Soccoro, algu√©m me ajude!!*\n \n     Kaya para, com medo. Ela estava pensando que era algum bandido tentando sequestra-la, como j√° havia ocorrido 3 vezes. Mas ela se assusta, Brown, o cachorro dela sai correndo adentro da Floresta e se perde de vista. Kaya grita o nome do Brown em desespero. No sal√£o real, Kaya entra correndo esbarrando em um guarda na frente da porta principal atrapalhando os preparativos de sua festa de anivers√°rio de 10 anos. Kaya com lagrimas nos olhos pede ao Rei para enviar algu√©m em busca de Brown, o Rei sem hesitar, ordena para que enviem 2 tropas adentrar a Floresta em busca de Brown. Kaya j√° n√£o ouve mais o homem gritando, muito menos os latidos de Brown. Voc√™ como um soldado do ex√©rcito do Rei, entra na floresta e acaba em problemas, se perdendo de sua tropa. Seu dever como soldado do Rei, √© achar Brown e traz√™-lo de volta para a Princesa Kaya.\n \nContinua...')
            .addField('Comando', '`' + prefix + 'buscar`')
            .setFooter(`Boa sorte Soldado ${message.author.username}!`)

        const Cammum3 = new MessageEmbed()
            .setColor('#3B692D')
            .setTitle('üå≤ Floresta Cammum #2')
            .setDescription('Ap√≥s andar v√°rios dias dentro da Floresta Cammum, voc√™ finalmente encontrou o Cachorro Brown, da Princesa Kaya. A princ√≠pio, ele quase fugiu, pois estava muito assustado. Mas depois de 5 ossos, ele ficou calmo e te seguiu obedientemente. Depois de quase 2 horas andando, voc√™ encontra um homem velho, sentado no p√© de uma √°rvore ofegante, voc√™ se aproxima calmamente e pergunta quem √© ele. Ele responde cansado e ofegante;\n \n*- Todos me conhecem como o Velho Welter, mas por favor... Encontre meus rem√©dios... Eu os perdi... Enquanto eu fugia...*\n \n Ache os rem√©dios do Velho Welter, para continuar a hist√≥ria...')

        const CammumComRemediosDoVelhoWelter = new MessageEmbed()
            .setColor('#3B692D')
            .setTitle('üå≤ Floresta Cammum #3')
            .setDescription('Ap√≥s andar v√°rios dias dentro da Floresta Cammum, voc√™ finalmente encontrou o Cachorro Brown, da Princesa Kaya. A princ√≠pio, ele quase fugiu, pois estava muito assustado. Mas depois de 5 ossos, ele ficou calmo e te seguiu obedientemente. Depois de quase 2 horas andando, voc√™ encontra um homem velho, sentado no p√© de uma √°rvore ofegante, voc√™ se aproxima calmamente e pergunta quem √© ele. Ele responde cansado e ofegante;\n \n*- Todos me conhecem como o Velho Welter, mas por favor... Encontre meus rem√©dios... Eu os perdi... Enquanto eu fugia...*\n \n Ap√≥s uma busca aos arredores, voc√™ encontra os rem√©dios do Velho Welter. Mas durante a busca, uma coisa n√£o saia da sua cabe√ßa... *Do que ele fugia? De quem?*\n \nDe volta a √°rvore, onde Welter estava sentado, voc√™ entrega os rem√©dios a ele, o Velho o toma sem pressa. Engole a seco, como se precisa-se daquilo para viver... Ele ainda cansado, se levante, coloca as m√£os tremulas em seus ombros, olha nos seus olhos e diz ofegante;\n \n*- O que espera? Vamos fugir deste lugar! N√£o quero passar mais nenhum segundo aqui, n√£o me resta muito tempo mes...*\n \nEle trava. O cachorro Brown est√° latindo descontroladamente. Welter est√° olhando fixamente para cima de voc√™, im√≥vel.\n \nQuando voc√™ se vira, voc√™ n√£o acredita em seus olhos... √â um le√£o branco, n√£o um le√£o branco que todos conhecem, mas um de 6 metros de altura, um humano caberia dentro de sua juba sem esfor√ßo algum.')

        const CammumFinal = new MessageEmbed()
            .setColor('#3B692D')
            .setTitle('üå≤ Floresta Cammum #4 Final')
            .setDescription('Em um ataque de medo e adrenalina, voc√™ se vira para correr, mas Velho Welter te segura pelo cotovelo. Impedindo sua fuga. Ele fala baixo;\n \n*- O que pensa que est√°s a fazer? Fique quieto!*\n \nVoc√™ se vira novamente para o le√£o e fica im√≥vel, com medo. O le√£o anda lentamente em sua dire√ß√£o e fixa o olhar no seu. Seu cora√ß√£o bate acelerado como se estive prestes a explodir. O le√£o ruge. Seu corpo inteiro estremece e Brown para de latir imediatamente e se encolhe atr√°s de uma √°rvore. O velho fala baixo novamente;\n \n*Irei correr em dire√ß√£o contr√°ria do Reino, voc√™ pega o cachorro e parta em retirada.*\n \nAntes que voc√™ pudesse dizer algo, ele corre entre as pernas do le√£o, gritando para chamar sua aten√ß√£o e como planejado, o le√£o o segue em sua ca√ßa.\n \nVoc√™ j√° est√° calmo. Aterrorizado, mas calmo. Voc√™ faz uma contin√™ncia do ex√©rcito do Reino, em forma de respeito pelo seu sacrif√≠cio, apara o cachorro em uma corda para evitar sua fuga e parte em retirada ao Reino, seguindo o plano do Velho Welter.\nEm sua chegada, 2 equipes estava adentrando a floresta em sua busca, pois voc√™ passou 12 dias e 11 noites sem enviar um sinal de vida, sozinho. A Princesa Kaya vem correndo em dire√ß√£o de Brown, chorando de felicidade, Kaya o abra√ßa e Brown solta um ganido de dor, sua pata traseira estava quebrada e voc√™ n√£o tinha percebido.')

        const CammumFinal2 = new MessageEmbed()
            .setColor('#3B692D')
            .setDescription('A Rainha, Elena Heslow, ordena a 2 guardas levar Brown para o centro veterin√°rio imediatamente. A Princesa Kaya te abra√ßa e diz obrigada chorando em seu ouvido e parte em retirada, correndo em dire√ß√£o aos 2 soldados que carregara Brown seguindo as ordens da Rainha. Voc√™ cai de joelhos e se v√™ no ch√£o. Voc√™ est√° exausto e tamb√©m n√£o tinha percebido. O pico de adrenalina e o pavor do le√£o branco te fez esquecer de tudo e o extinto de sobreviv√™ncia prevaleceu em seu corpo. O Rei se abaixa sobre um joelho com uma m√£o no seu ombro direito e diz;\n \n*Parab√©ns por teus feitos soldado! Voc√™ mostrou bravura, coragem e lealdade para teus colegas e para mim. Como forma de recompensa, lhe darei a Medalha Cammum, a medalha mais valiosa do Reino Heslow. Por ser um item m√°gico, voc√™ deve dizer os quatros n√∫meros que rege teu nome e teu c√≥digo que te torna √∫nico no mundo e a Medalha Cammum √° de aparecer para ti.*\n \nA Princesa Kaya chega correndo com um filhote de cachorro em seus bra√ßos e diz;\n \n*Soldado, muito obrigada por salvar o Brown, a parceira dele, a Mira, deu luz a 5 lindos filhotes, por favor, fique com este, √© tudo o que posso lhe dar.*\n \nVoc√™ levanta se curvando a fam√≠lia real presente em sua frente. Cansado, agradece as recompensas e pega o filhote em seus bra√ßos. Tr√™s dias depois, voc√™ se lembra do Velho Welter ao ver a lua cheia no c√©u e pergunta a ele dando um riso, como se estivesse lembrando de algo feliz;\n \n*Por que voc√™ estava com tanta pressa Velho?*')
            .addField('Comandos Desbloqueados', '`' + prefix + 'medalha` | `' + prefix + 'dogname`')

        if (['cammum', 'hist√≥ria'].includes(args[0]?.toLowerCase())) return message.reply({ embeds: [Cammum1, Cammum2] })

        if (['continue', 'continua'].includes(args[0]?.toLowerCase())) {
            if (!dog) { return message.reply(`${e.Deny} | Voc√™ ainda n√£o achou o Brown! \`${prefix}floresta cammum\``) }
            if (dog && !remedio) return message.reply({ embeds: [Cammum3] })
            if (dog && remedio && !bola) return message.reply({ content: `${e.Deny} | Voc√™ ainda n√£o achou a bolinha do Brown.`, embeds: [CammumComRemediosDoVelhoWelter] })
            if (dog && bola && remedio) return message.reply({ content: `${e.Check} | Voc√™ j√° completou est√° miss√£o! Use \`${prefix}floresta final\``, embeds: [CammumComRemediosDoVelhoWelter] })
        }

        if (['final'].includes(args[0]?.toLowerCase())) {

            db.get(`${message.author.id}.Slot.MedalhaAcess`) ? '' : db.set(`${message.author.id}.Slot.MedalhaAcess`, true)
            db.get(`${message.author.id}.Perfil.Medalha`) ? db.delete(`${message.author.id}.Slot.MedalhaAcess`) : ''
            let FinalPart = dog && bola && remedio
            if (!FinalPart) return message.reply(`${e.Deny} | Voc√™ precisa resgatar o Cachorro Brown, achar a bolinha dele e ajudar o Velho Welter! \`${prefix}floresta continue\``)
            if (FinalPart) return message.reply({ embeds: [CammumFinal, CammumFinal2] })

        } else {
            return message.reply(`${e.Info} | Hey, usa \`${prefix}floresta\` pra voc√™ ver os comandos.`)
        }
    }
}